(this["webpackJsonpflip-pairs"]=this["webpackJsonpflip-pairs"]||[]).push([[0],{18:function(e,t,r){e.exports={cardContainer:"card_cardContainer__1KQYX",scene:"card_scene__1NQl8",card:"card_card__3Qqba",cardFace:"card_cardFace__3mHGW",cardFaceFront:"card_cardFaceFront__22RVc",cardFaceBack:"card_cardFaceBack__2OWPn",isFlipped:"card_isFlipped__VpkoQ",logoSmall:"card_logoSmall__1xBnl",cardImg:"card_cardImg__1x9mf"}},25:function(e,t,r){e.exports={container:"playBoard_container__11AN-",topBar:"playBoard_topBar__3taUn",settingsCog:"playBoard_settingsCog__1Pf5d",matrixLine:"playBoard_matrixLine__2yL0-",cardsContainer:"playBoard_cardsContainer__q61rO",particleContainer:"playBoard_particleContainer__1PqG6"}},335:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r.n(n),o=r(40),i=r.n(o),c=(r(98),r(22)),l=r(13),s=r(14),u=r(16),p=r(15),d=r(17),m=r(28),f=r(41),h=r.n(f),v=r(25),g=r.n(v),b=r(18),_=r.n(b),E=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={isFlipped:r.props.isFlipped},r}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.url;return a.a.createElement("div",{id:"".concat(this.props.row,"-").concat(this.props.col),className:_.a.cardContainer,onClick:function(){return e.props.flip()}},a.a.createElement("div",{className:_.a.scene},a.a.createElement("div",{className:"".concat(_.a.card,"  ").concat(this.props.isFlipped?_.a.isFlipped:"")},a.a.createElement("div",{className:"".concat(_.a.cardFace," ").concat(_.a.cardFaceFront)},a.a.createElement("img",{className:_.a.logoSmall,alt:"logo",src:"/flip-pairs/assets/logo_small.svg"})),a.a.createElement("div",{className:"".concat(_.a.cardFace," ").concat(_.a.cardFaceBack)},a.a.createElement("img",{className:_.a.cardImg,alt:"".concat(this.props.row,"-").concat(this.props.col),src:t})))))}}]),t}(n.Component),O=r(8),y=r.n(O);function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:"TOGGLE_FLIP_ALL_TILES",forceState:e,flipDone:t,previewFlip:r}}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var S=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={},r}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.store.getState();this.setState(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(r,!0).forEach((function(t){Object(c.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.state,{tileCount:e.fp.tileCount}))}},{key:"_setTileCount",value:function(e,t){void 0!==t&&e>0&&t.dispatch(function(e){return{type:"SET_TILE_COUNT",tileCount:e}}(e))}},{key:"_resetMatrix",value:function(e){void 0!==e&&e.dispatch({type:"RESET_TILES"})}},{key:"render",value:function(){var e=this,t=this.props.store.getState().fp.tileCount;return a.a.createElement("div",{className:y.a.modalBackground,onClick:function(){return e.props.store.dispatch({type:"TOGGLE_CONTROL_PANEL_VISIBILITY"})}},a.a.createElement("div",{className:y.a.modal,onClick:function(e){return e.stopPropagation()}},a.a.createElement("div",{className:y.a.controlPanelContainer},a.a.createElement("div",{className:y.a.box},a.a.createElement("div",{className:y.a.controlElement},a.a.createElement("div",{className:y.a.title},"Choose Game Complexity")),a.a.createElement("div",{className:y.a.radiosContainer},a.a.createElement("div",{className:y.a.controlElement},a.a.createElement("input",{type:"radio",id:"radio1",name:"radio1",onClick:function(){return e._setTileCount(4,e.props.store)},defaultChecked:4===t}),a.a.createElement("label",{htmlFor:"radio1"},4)),a.a.createElement("div",{className:y.a.controlElement},a.a.createElement("input",{type:"radio",id:"radio2",name:"radio2",onClick:function(){return e._setTileCount(8,e.props.store)},defaultChecked:8===t}),a.a.createElement("label",{htmlFor:"radio2"},8)),a.a.createElement("div",{className:y.a.controlElement},a.a.createElement("input",{type:"radio",id:"radio3",name:"radio3",onClick:function(){return e._setTileCount(12,e.props.store)},defaultChecked:12===t}),a.a.createElement("label",{htmlFor:"radio3"},12)),a.a.createElement("div",{className:y.a.controlElement},a.a.createElement("input",{type:"radio",id:"radio4",name:"radio4",onClick:function(){return e._setTileCount(16,e.props.store)},defaultChecked:16===t}),a.a.createElement("label",{htmlFor:"radio4"},16)),a.a.createElement("div",{className:y.a.controlElement},a.a.createElement("input",{type:"radio",id:"radio5",name:"radio5",onClick:function(){return e._setTileCount(24,e.props.store)},defaultChecked:24===t}),a.a.createElement("label",{htmlFor:"radio5"},24)),a.a.createElement("div",{className:y.a.controlElement},a.a.createElement("input",{type:"radio",id:"radio6",name:"radio6",onClick:function(){return e._setTileCount(30,e.props.store)},defaultChecked:30===t}),a.a.createElement("label",{htmlFor:"radio6"},30)),a.a.createElement("div",{className:y.a.controlElement},a.a.createElement("input",{type:"radio",id:"radio7",name:"radio7",onClick:function(){return e._setTileCount(36,e.props.store)},defaultChecked:36===t}),a.a.createElement("label",{htmlFor:"radio7"},36))),a.a.createElement("div",{className:"".concat(y.a.controlElement," ").concat(0===t?y.a.hidden:"")},a.a.createElement("div",{className:y.a.reset,onClick:function(){return e._resetMatrix(e.props.store)}},"reset"))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.store.getState();return e&&r?(t.tileCount=r.fp.tileCount,t):null}}]),t}(n.Component),T=Object(m.a)((function(e,t){return{tileCount:e.fp.tileCount}}))(S),j=r(91),k=r.n(j);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(r,!0).forEach((function(t){Object(c.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var L=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={tileCount:r.props.store.getState().fp.tileCount},r}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState(I({},this.state,{millis:0,timer:void 0,running:!1}))}},{key:"componentDidUpdate",value:function(e){void 0!==this.state.timer||"STARTED"!==this.props.store.getState().fp.gameState&&"RESET"!==this.props.store.getState().fp.gameState?void 0===this.state.timer||!this.state.running||"HALTED"!==this.props.store.getState().fp.gameState&&"FINISHED"!==this.props.store.getState().fp.gameState?void 0!==this.state.timer&&!1===this.state.running&&"STARTED"===this.props.store.getState().fp.gameState?this.resumeTimer():void 0!==this.state.timer&&!1===this.state.running&&"RESET"===this.props.store.getState().fp.gameState&&this.resetTimer():this.pauseTimer():this.toggleTimer()}},{key:"resetTimer",value:function(){clearInterval(this.state.timer),this.setState(I({},this.state,{millis:0,timer:void 0,running:!1}))}},{key:"toggleTimer",value:function(){var e=this,t=void 0;if(clearInterval(this.state.timer),this.state.timer)this.setState(I({},this.state,{timer:void 0,running:!1}));else{t=setInterval((function(){return e.updateMillis(100)}),100)}this.setState(I({},this.state,{timer:t,running:!0}))}},{key:"pauseTimer",value:function(){this.setState(I({},this.state,{running:!1}))}},{key:"resumeTimer",value:function(){var e=this.state.resetTime?0:this.state.millis;this.setState(I({},this.state,{running:!0,millis:e,resetTime:!1}))}},{key:"updateMillis",value:function(e){if(this.state.running){var t=this.state.millis+e;this.setState(I({},this.state,{millis:t}))}}},{key:"msToTime",value:function(e){var t=0===e?0:parseInt(e/1e3%60),r=0===e?0:parseInt(e/6e4%60),n=0===e?0:parseInt(e/36e5%24);return(n=n<10?"0"+n:n)+":"+(r=r<10?"0"+r:r)+":"+(t=t<10?"0"+t:t)}},{key:"render",value:function(){return a.a.createElement("div",{className:k.a.timer},a.a.createElement("div",null,this.msToTime(this.state.millis)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.store.getState();return t&&r?(t.gameState=e.store.getState().fp.gameState,r.fp.tileCount!==t.tileCount&&(t.resetTime=!0,t.tileCount=r.fp.tileCount),t):null}}]),t}(n.Component),N=Object(m.a)((function(e,t){return{gameState:e.fp.gameState,tileCount:e.fp.tileCount}}))(L),x=r(42),F=r.n(x),D=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"_resetGame",value:function(e){void 0!==e&&e.dispatch({type:"RESET_GAME"})}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:F.a.celebrationContainer},a.a.createElement(h.a,{width:"100vw",height:"100vh"}),a.a.createElement("div",{className:F.a.celebrationText},"Good Job"),a.a.createElement("div",{className:F.a.reset,onClick:function(){return e._resetGame(e.props.store)}},"Play Again"))}}]),t}(n.Component),M=r(54),A=r.n(M),G=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){setTimeout((function(){var e=window.document;null!==e&&void 0!==e&&(e.body.style.overflowY="auto")}),2100)}},{key:"render",value:function(){return a.a.createElement("div",{className:A.a.welcomeContainer,id:"welcomeScreen"},a.a.createElement("section",null,a.a.createElement("img",{className:A.a.logo,alt:"logo",src:"/flip-pairs/assets/logo.svg"})))}}]),t}(n.Component);function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var R=function(e){function t(e){var r;return Object(l.a)(this,t),(r=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={},r}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.store.getState();this.setState(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(r,!0).forEach((function(t){Object(c.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},this.state,{tileCount:e.fp.tileCount,selectedStateMatrix:e.fp.selectedStateMatrix,celebration:e.fp.celebration,showControlPanel:e.fp.showControlPanel}))}},{key:"_flipTile",value:function(e,t){void 0!==this.props.store&&this.props.store.dispatch(function(e,t){return{type:"FLIP_TILE",row:e,col:t}}(e,t))}},{key:"_generateMatrixDivs",value:function(){var e=this,t=this.props.store.getState().fp.selectedStateMatrix;if(void 0!==t)return t.map((function(r,n){return a.a.createElement("div",{className:g.a.matrixLine,key:n},r.map((function(r,o){return a.a.createElement(E,{key:"".concat(n,"-").concat(o),row:n,col:o,url:t[n][o].url,imgId:t[n][o].imgId,isFlipped:r.flipped,flip:function(){return e._flipTile(n,o)}})})))}))}},{key:"render",value:function(){var e,t,r,n=this,o=this._generateMatrixDivs();return this.state.showControlPanel&&(e=a.a.createElement(T,{store:this.props.store})),this.state.celebration?r=a.a.createElement(D,{store:this.props.store}):t=a.a.createElement("div",{className:g.a.particleContainer},a.a.createElement(h.a,{width:"100vw",height:"100vh"})),a.a.createElement("div",{className:g.a.container},a.a.createElement(G,null),r,t,e,a.a.createElement("div",{className:g.a.topBar},a.a.createElement(N,{store:this.props.store}),a.a.createElement("img",{className:g.a.settingsCog,alt:"cog",src:"/flip-pairs/assets/settings.svg",onClick:function(){return n.props.store.dispatch({type:"TOGGLE_CONTROL_PANEL_VISIBILITY"})}})),a.a.createElement("div",{className:g.a.cardsContainer},o))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.store.getState();return e&&r?(t.tileCount=r.fp.tileCount,t.selectedStateMatrix=r.fp.selectedStateMatrix,t.celebration=r.fp.celebration,t.showControlPanel=r.fp.showControlPanel,t):null}}]),t}(n.Component),U=Object(m.a)((function(e,t){return{tileCount:e.fp.tileCount,selectedStateMatrix:e.fp.selectedStateMatrix,celebration:e.fp.celebration,showControlPanel:e.fp.showControlPanel}}))(R),W=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function q(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var H=r(29),Q=r(92);function V(e){var t;if(e>0){var r=function(e){for(var t=new Array(e),r=0;r<t.length;r++)t[r]={url:"https://picsum.photos/300/300?bust="+Math.floor(Math.random()*Math.floor(e))+r,timesUsed:0,originalIdx:r};return t}(e/2),n=0,a=0;switch(e){case 4:case 16:case 36:a=n=Math.sqrt(e);break;case 8:n=2,a=4;break;case 12:n=3,a=4;break;case 24:n=4,a=6;break;case 30:n=5,a=6;break;default:n=2,a=2}t=function(e,t,r){for(var n=new Array(t),a=0;a<n.length;a++){n[a]=new Array(e);for(var o=0;o<n[a].length;o++){var i=Math.floor(Math.random()*r.length);n[a][o]={flipped:!0,done:!1,url:r[i].url,imgId:r[i].originalIdx},r[i].timesUsed=r[i].timesUsed+1,r[i].timesUsed>1&&r.splice(i,1)}}return n}(n,a,r)}return t}function Y(e,t,r){if(void 0!==e&&void 0!==t&&void 0!==r&&!e[t][r].done&&!1===e[t][r].done){if(!e[t][r].flipped){var n=function(e,t){var r=void 0;if(void 0!==e&&void 0!==t)for(var n=0;n<e.length;n++)for(var a=0;a<e[n].length;a++)e[n][a].imgId===t&&!0===e[n][a].flipped&&(r=e[n][a]);void 0!==r&&(r.done=!0);return void 0!==r}(e,e[t][r].imgId);e[t][r].done=n}e[t][r].flipped=!e[t][r].flipped}return e}function z(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=0;if(void 0!==e&&e.length>0)for(var n=0;n<e.length;n++)for(var a=0;a<e[n].length;a++)(t&&J(e[n][a])||!t&&X(e[n][a]))&&r++;return r}function J(e){return void 0!==e&&(e.flipped&&!e.done)}function X(e){return void 0!==e&&e.flipped}var K={tileCount:0,showControlPanel:!0,previewFlip:!0,selectedStateMatrix:V(0),celebration:!1,gameState:"HALTED"};function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(r,!0).forEach((function(t){Object(c.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ee=[function(e,t){var r;switch(t.type){case"SET_TILE_COUNT":return $({},e,{tileCount:t.tileCount,selectedStateMatrix:V(t.tileCount),previewFlip:!0,celebration:!1,showControlPanel:!1,gameState:"STARTED"});case"RESET_TILES":return $({},e,{selectedStateMatrix:V(e.tileCount),previewFlip:!0,celebration:!1,showControlPanel:!1,gameState:"RESET"});case"TOGGLE_FLIP_ALL_TILES":return r=function(e,t,r){if(void 0!==e)for(var n=0;n<e.length;n++)for(var a=0;a<e[n].length;a++)(!r&&!e[n][a].done||r)&&(e[n][a].flipped=void 0!==t?t:!e[n][a].flipped,e[n][a].done=!1);return e}(e.selectedStateMatrix.slice(),t.forceState,t.flipDone),$({},e,{selectedStateMatrix:r,previewFlip:t.previewFlip});case"FLIP_TILE":return r=Y(e.selectedStateMatrix.slice(),t.row,t.col),$({},e,{selectedStateMatrix:r});case"TOGGLE_CELEBRATION":return $({},e,{celebration:!e.celebration,gameState:"HALTED"});case"TOGGLE_CONTROL_PANEL_VISIBILITY":return $({},e,{showControlPanel:!e.showControlPanel,gameState:e.showControlPanel?"STARTED":"HALTED"});case"RESET_GAME":return K;default:return e}}],te=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e,n=0;n<ee.length;n++)r=ee[n](r,t);return r};function re(e){var t=e.getState,r=e.dispatch;return function(e){return function(n){switch(n.type){case"SET_TILE_COUNT":case"RESET_TILES":n.tileCount!==t().fp.tileCount?(clearTimeout(window.flipTimer),clearTimeout(window.resetTimer),window.flipTimer=setTimeout((function(){return r(C())}),3e3)):n.type="IGNORE";break;case"FLIP_TILE":var a=z(t().fp.selectedStateMatrix,!0);a<2&&!t().fp.previewFlip?(clearTimeout(window.resetTimer),1===a&&(window.resetTimer=setTimeout((function(){return r(C(!1,!1))}),2e3))):n.type="IGNORE";break;case"TOGGLE_FLIP_ALL_TILES":if(!n.forceState&&!n.flipDone)z(t().fp.selectedStateMatrix)===t().fp.tileCount&&r({type:"TOGGLE_CELEBRATION"})}return e(n)}}}var ne=function(){var e={fp:te},t=[re,Q.a];return Object(H.d)(Object(H.c)(e),H.a.apply(this,t))}();document.body.style.backgroundImage="url('https://picsum.photos/500/500?bust=0000')",document.body.style.backgroundPosition="center",document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundSize="cover",document.body.style.boxShadow="inset 0 0 0 2000px rgba(93,93,93,0.84)",window.onbeforeunload=function(){window.scrollTo(0,0)},i.a.render(a.a.createElement(U,{store:ne}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/flip-pairs",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/flip-pairs","/service-worker.js");W?(!function(e,t){fetch(e).then((function(r){var n=r.headers.get("content-type");404===r.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):q(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):q(t,e)}))}}()},42:function(e,t,r){e.exports={celebrationContainer:"celebration2_celebrationContainer__3v-Zc",reset:"celebration2_reset__1vU_j",celebrationText:"celebration2_celebrationText__iVTt-"}},54:function(e,t,r){e.exports={welcomeContainer:"welcomeScreen_welcomeContainer__3OuO9",welcomeScreen:"welcomeScreen_welcomeScreen__1Etib",logo:"welcomeScreen_logo__133BL",rotate:"welcomeScreen_rotate__2OszT"}},8:function(e,t,r){e.exports={controlPanelContainer:"controlPanel_controlPanelContainer__2DqIc",modalBackground:"controlPanel_modalBackground__2BOe2",modal:"controlPanel_modal__3S9hw",title:"controlPanel_title__ABQUq",box:"controlPanel_box__j0oeO",radiosContainer:"controlPanel_radiosContainer__G4gEe",controlElement:"controlPanel_controlElement__2mapW",hidden:"controlPanel_hidden__1QnS1",reset:"controlPanel_reset__dW2Xz"}},91:function(e,t,r){e.exports={timer:"timer_timer__3EvND"}},93:function(e,t,r){e.exports=r(335)},98:function(e,t,r){}},[[93,1,2]]]);
//# sourceMappingURL=main.d2e82745.chunk.js.map